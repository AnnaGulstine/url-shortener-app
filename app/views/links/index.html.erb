<div class="container">

  <% if @link.errors.any? %>
    <div id="error_explanation">
      <h4><%= pluralize(@link.errors.count, "error") %> prohibited this post from being saved:</h4>

      <ul>
      <% @link.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <h3>Add a New Link</h3>
  <%= form_tag '/links', method: :post do %>  
  <div class="form-group">
    <%= text_field_tag :slug, "", :placeholder => "Slug" %>  
  </div>
  <div class="form-group">
    <%= text_field_tag :target_url, "", :placeholder => "Target URL" %>  
  </div>  
  <div>
    <%= submit_tag 'Create Link', class: "btn btn-default" %>
  </div>
  <% end %>

  <h1>Your links</h1>
    <table class="table table-striped table-hover">
      <th>Slug</th>
      <th>Target URL</th>
      <th>Created At</th>
      <th>Actions</th>
      <% @links.each do |link| %>
        <tr>
          <td><%= link_to link.slug, "/#{link.slug}", :method => "get", :class => "block-link" %></td>
          <td><%= link.target_url %></td>
          <td><%= link.created_at %></td>
          <td><%= link_to "Edit", "/links/#{link.id}/edit" %>  <%= link_to "Delete", "/links/#{link.id}", :method => "delete", :data => {:confirm => "Are you sure you would like to delete the link: #{link.slug}?"} %></td>
        </tr>
      <% end %>
    </table>

</div>